<html>
<!-- Head tag -->
<head>
  <meta charset="UTF-8">

  
  <title>
    删除注释 |
    学习笔记
  </title>
  


  <meta name="description" content="">
  <meta name="author" content="张若淇">
  <meta property="og:title" content="删除注释" />
  <meta property="og:description" content="" />
  <meta property='og:site_name' content='学习笔记' />
  <meta property="og:image" content="http://example.com/img/default.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:title" content="删除注释" />

  <meta name="twitter:image" content="http://example.com/img/default.jpg" />

  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous">
  
<link rel="stylesheet" href="/css/style.css">


<meta name="generator" content="Hexo 6.2.0"></head>

<body>
    <!-- Menu -->
    <nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark page-navbar gradient">
  <div class="container">
    <a class="navbar-brand logo" href="http://example.com">
      学习笔记</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item item">
          
        <li class="nav-item item">
          <a class="nav-link" href="/">
            Home</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" href="/archives">
            🗂️Archives</a>
        </li>
        
        <li class="nav-item item">
          <a class="nav-link" target="_blank" rel="noopener" href="https://hexo.io/">
            Hexo</a>
        </li>
        
        </li>
      </ul>
    </div>
  </div>
</nav>

    <main class="page main-page">
        <div class="container blogPost">
    <div class="row">
        <div class="col-sm-9 px-md-5">
            <h2 class="blog-post-title">
                删除注释
            </h2>
            <p class="meta">
                <i class="far fa-clock"></i>
                2023-08-03 
            </p>
            <!-- Content -->
            <h1 id="删除代码中的注释"><a href="#删除代码中的注释" class="headerlink" title="删除代码中的注释"></a>删除代码中的注释</h1><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p>使用C++中的正则表达式需要引用头文件<regex>。C++标准库中提供了std::regex类来支持正则表达式的操作。</regex></p>
<p>正则表达式匹配邮箱地址示例</p>
<p>std::regex pattern(R”(\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)*)”);</p>
<p>其中，R”()”表示将字符串标记为“Raw String”，使得字符串内的特殊字符能够直接被解释而不需要转义。正则表达式中常用的一些特殊字符有：.表示任意一个字符；^<br>表示匹配开头；$表示匹配结尾；*表示匹配0到多个字符；+表示匹配1到多个字符；{n}表示匹配n个字符；{n, m}表示匹配n到m个字符。</p>
<p>然后，我们可以使用std::regex_match()函数来匹配一个字符串是否符合给定的正则式<br>std::regex_match()会返回一个布尔值。表示是否匹配。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; regex_match(&quot;123&quot;, regex(&quot;\d+&quot;)) &lt;&lt; endl;    //结果为0，需要转义字符&#x27;\&#x27;</span><br><span class="line">cout &lt;&lt; regex_match(&quot;123&quot;, regex(&quot;\\d+&quot;)) &lt;&lt; endl;    //结果为1，完全匹配</span><br></pre></td></tr></table></figure>
<p>std::regex类提供了很多函数来支持正则表达式的匹配操作。下面是一些常用的函数:</p>
<p>std::regex_search(str, pattern)：查找给定字符串中第一个满足正则表达式要求的子串。</p>
<p>std::regex_replace(str, pattern, replacement)：将给定的字符串中匹配正则式的子字符串替换为指定字符串。</p>
<p>std::sregex_iterator it(str.begin(), str.end(), pattern)：遍历给定字符串中所有匹配正则式的子串。</p>
<p>std::regex构造函数中可以添加一个参数，用来指定标志。</p>
<p>std::regex_constants::icase：不区分大小写匹配。<br>std::regex_constants::ECMAScript：使用ECMAScript引擎，支持UTF-8编码。<br>std::regex_constants::extended：使用扩展正则表达式语法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">std::string str(&quot;Hello, World!&quot;);</span><br><span class="line">std::regex pattern(R&quot;(world)&quot;, std::regex_constants::icase);</span><br><span class="line">if (std::regex_search(str, pattern)) &#123;  // true</span><br><span class="line">    std::cout &lt;&lt; &quot;Matched!&quot; &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给一个 C++ 程序，删除程序中的注释。这个程序source是一个数组，其中source[i]表示第 i 行源码。 这表示每行源码由 ‘\n’ 分隔。</p>
<p>在 C++ 中有两种注释风格，行内注释和块注释。</p>
<p>字符串// 表示行注释，表示//和其右侧的其余字符应该被忽略。<br>字符串/<em> 表示一个块注释，它表示直到下一个（非重叠）出现的</em>/之间的所有字符都应该被忽略。（阅读顺序为从左到右）非重叠是指，字符串/*/并没有结束块注释，因为注释的结尾与开头相重叠。<br>第一个有效注释优先于其他注释。</p>
<p>如果字符串//出现在块注释中会被忽略。<br>同样，如果字符串/*出现在行或块注释中也会被忽略。<br>如果一行在删除注释之后变为空字符串，那么不要输出该行。即，答案列表中的每个字符串都是非空的。</p>
<p>样例中没有控制字符，单引号或双引号字符。</p>
<p>比如，source = “string s = “/<em> Not a comment. </em>/“;” 不会出现在测试样例里。<br>此外，没有其他内容（如定义或宏）会干扰注释。</p>
<p>我们保证每一个块注释最终都会被闭合， 所以在行或块注释之外的/*总是开始新的注释。</p>
<p>最后，隐式换行符可以通过块注释删除。 有关详细信息，请参阅下面的示例。</p>
<p>从源代码中删除注释后，需要以相同的格式返回源代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;string&gt; removeComments(vector&lt;string&gt;&amp; source) &#123;</span><br><span class="line">      string str;</span><br><span class="line">        int n=source.size();</span><br><span class="line">        for(int i=0;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            str+=source[i];</span><br><span class="line">            str+=&#x27;\n&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">       string s=regex_replace(str,regex(&quot;//.*|/\\*(.|\n)*?\\*/&quot;),&quot;&quot;);</span><br><span class="line">       vector&lt;string&gt;ans;</span><br><span class="line">        string t;</span><br><span class="line">        for(int i=0;i&lt;s.size();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if(s[i]==&#x27;\n&#x27;)</span><br><span class="line">            &#123;</span><br><span class="line">                if(t!=&quot;&quot;)ans.push_back(t);</span><br><span class="line">                t=&quot;&quot;;</span><br><span class="line">            &#125;   </span><br><span class="line">            else t+=s[i];</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>“//.<em>|/\</em>(.|\n)<em>?\</em>/“即为对应的正则表达式：</p>
<p>//表示//<br>.表示注释里面的任意字符<em>表示匹配任意数量的.字符|表示逻辑或/表示注释中的/，\</em>表示转义后的raw <em>。()表示设定分组。(.|\n)表示<br>任意的字符串或者换行符加上？是因为</em>表示1个或多个，但是也可能存在零个？表示零个或一个。</p>

            <br />
            <p class="meta">
                
            </p>
        </div>

        <div class="col-sm-3">
             
<span><b> TL;DR</b></span>
<p>
	Yet another hexo theme.
</p>
<hr />


<span><b> TL;DR 2</b></span>
<p>
	No, not another one :/
</p>
<hr />

 

<span
	><a href="https://twitter.com/hexojs" target="_blank" rel="noopener"
		><b
			><i class="fab fa-twitter-square"></i>
			<i class="fas fa-at"></i>
			hexojs</b
		></a
	></span
>
<br />
<a class="twitter-timeline" data-height="800" data-dnt="true" data-chrome="nofooter transparent noheader noborders " target="_blank" rel="noopener" href="https://twitter.com/hexojs?ref_src=twsrc%5Etfw"></a>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


        </div>
    </div>
</div>
<!-- Menu fade on scroll -->
<script>
    var isScrolling;
    var prevScrollpos = window.pageYOffset;
    window.addEventListener(
        'scroll',
        function(event) {
            window.clearTimeout(isScrolling);
            isScrolling = setTimeout(function() {
                var currentScrollPos = window.pageYOffset;
                if (prevScrollpos > currentScrollPos) {
                    $('#navbar').slideDown();
                } else {
                    $('#navbar').slideUp();
                }
                prevScrollpos = currentScrollPos;
            }, 66);
        },
        false
    );
</script>


<a class="float-left gradient btn paginationbtn" href="/2023/08/03/线性扫描/"><i class="fas fa-chevron-left"></i></a>


    </main>
    <!-- Footer -->
    <footer class="page-footer">
  <div class="container">
    <div class="social-icons">
      
      <a href="https://hexo.io/" title="Hexo.io" target="_blank" rel="noopener" class="fas fa-home"></a>
      
      <a href="https://twitter.com/hexojs" title="@hexojs" target="_blank" rel="noopener" class="fab fa-twitter"></a>
      
      <a href="https://github.com/RandomAdversary/Gradient/issues" title="Report issue" target="_blank" rel="noopener" class="fas fa-bug"></a>
      
    </div>
  </div>
</footer>
    <!-- After footer scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
</body>

</html>